<!DOCTYPE html>
<html lang="ru">
<head>
{% set _filename = (filename or '') %}
{% set _lower = _filename.lower() %}
{% set is_image = _lower.endswith('.webp') or _lower.endswith('.png') or _lower.endswith('.jpg') or _lower.endswith('.jpeg') %}
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Больше информации! Авиатор</title>
<link href="https://fonts.googleapis.com/css?family=Alegreya+SC:500,700&display=swap" rel="stylesheet">
<style>
* { box-sizing:border-box; }
body {
    margin:0;
    padding:0;
    min-height:100vh;
    font-family:'Alegreya SC', sans-serif;
    display:flex;
    flex-direction:column;
    background:#faf7f0;
    color:#333;
}

header {
    width:100%;
    display:flex;
    justify-content:center;
    padding:24px 18px 12px;
    background:transparent;
    border-bottom:none;
    position:sticky;
    top:0;
    z-index:20;
}

.logo-container {
    display:flex;
    align-items:center;
    justify-content:center;
    gap:12px;
    padding:18px 26px;
    border-radius:20px;
    border:1px solid rgba(111,10,10,0.12);
    background:white;
    box-shadow:0 12px 30px rgba(111,10,10,0.08);
}

.logo-container img {
    display:block;
    max-width:150px;
    height:auto;
}

main {
    flex:1;
    width:100%;
    max-width:1200px;
    margin:0 auto;
    padding:28px 18px 40px;
    display:flex;
    flex-direction:column;
    gap:24px;
}

.viewer-actions {
    display:flex;
    justify-content:center;
}

.back-link {
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding:12px 26px;
    font-size:1rem;
    font-weight:700;
    text-decoration:none;
    color:#ffffff;
    background:linear-gradient(135deg, #7f1212 0%, #6f0a0a 55%, #590808 100%);
    border-radius:16px;
    box-shadow:0 12px 24px rgba(111,10,10,0.18);
    transition:transform 0.25s ease, box-shadow 0.25s ease;
}

.back-link:hover {
    transform:translateY(-2px);
    box-shadow:0 18px 34px rgba(111,10,10,0.22);
}

.viewer-frame {
    flex:1;
    min-height:60vh;
    border-radius:20px;
    border:1px solid rgba(111,10,10,0.12);
    background:linear-gradient(140deg, rgba(255,244,235,0.95) 0%, rgba(255,255,255,0.98) 55%, #ffffff 100%);
    box-shadow:0 18px 36px rgba(111,10,10,0.1);
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:20px;
}

.viewer-frame iframe,
.viewer-frame img {
    width:100%;
    height:100%;
    border:none;
    background:#fff;
    display:block;
}

.viewer-frame img {
    height:auto;
    max-height:100%;
    object-fit:contain;
}

.viewer-frame iframe {
    object-fit:contain;
}

@media (max-width:640px) {
    .back-link { width:100%; justify-content:center; }
    .viewer-frame { min-height:50vh; padding:12px; }
}
</style>
</head>
<body>
<header>
    <div class="logo-container">
        <img src="{{ url_for('static', filename='logo.jpg') }}" alt="WineLink">
    </div>
</header>
<main>
    <div class="viewer-actions">
        <a class="back-link" href="/">← Вернуться назад</a>
    </div>
    <div class="viewer-frame">
        {% if is_image %}
        <img src="{{ url_for('pdfs', filename=filename) }}" alt="Описание {{ _filename }}">
        {% else %}
        <iframe src="{{ url_for('pdfs', filename=filename) }}#zoom=page-fit" allowfullscreen></iframe>
        {% endif %}
    </div>
</main>
</body>
</html>

